# 25F CST8505 Week 6 Lecture 1

_从 PDF 文档转换生成_

---

## 目录

- ARTIFICIAL INTELLIGENCE
- SOFTWARE DEVELOPMENT
- multiple rows needs to be
- ▪ In a normalized form data is stored across multiple tables
- ▪ Joining multiple tables can be computationally expensive
- ▪ IBM DB2
- ❑ Example of Document Type NoSQL Data Model
- Data Model – Example
- ❑ Homework exercise: read further information on GQL

---

## 第 1 页

ARTIFICIAL INTELLIGENCE
SOFTWARE DEVELOPMENT
Week 6 Lecture 1 Dr. Hari M Koduvely
人工智能项目 1 第 6 周 第 1 讲 Hari M Koduvely 博士

---

## 第 2 页

Agenda for Today
今天的议程

- Theory:
  理论：
  - Fundamentals of Data Engineering :
    数据工程基础：
  - Breakout session on Data Model & Data Pipeline for your project
    关于您项目的数据模型和数据管道分组讨论

---

## 第 3 页

Fundamentals of Data Engineering
数据工程基础
Data Engineering refers to building systems for collecting, storing and processing large quantities of user and system generated data.
数据工程是指构建用于收集、存储和处理大量用户和系统生成数据的系统。
Data Sources
数据源

- An AI system may use data from different sources having different
  AI 系统可能使用来自不同来源的数据，这些数据具有不同的

properties
属性

- Understanding sources and properties of data can help in its efficient
  了解数据的来源和属性有助于其高效

usage
使用

---

## 第 4 页

Data Sources
数据源

- User Input Data:
  用户输入数据：
  - Text, Videos, Uploaded files etc.
    文本、视频、上传的文件等
  - Quite often not in the correct format.
    通常格式不正确
- E.g. Text instead of numbers, uploaded file with wrong extn etc.
  例如，用文本代替数字、上传的文件扩展名错误等
  - Needs more validation checking and processing.
    需要更多的验证检查和处理
  - Often needs to process the data immediately and quickly
    通常需要立即快速处理数据

---

## 第 5 页

Data Sources
数据源

- System Generated Data:
  系统生成数据：
  - System logs, model predictions etc.
    系统日志、模型预测等
  - Usually well formatted, hence requires less checking
    通常格式良好，因此需要更少的检查
  - Large volume of data
    大量数据
- Important signals can be buried in the noise
  重要信号可能被噪声淹没
- Storage could be expensive
  存储可能很昂贵

  - Typically processed in batches
    通常批量处理
  - System generated data can include user behavior
    系统生成的数据可以包括用户行为

  - What user clicked, moved, sent etc.
    用户点击、移动、发送了什么等
  - Considered as part of user data
    被视为用户数据的一部分
  - Subjected to privacy regulations such as GDPR
    受 GDPR 等隐私法规约束

---

## 第 6 页

Data Sources
数据源

- Internal Databases:
  内部数据库：
  - Generated by various services and enterprise applications.
    由各种服务和企业应用程序生成
  - E. g. Inventory, Customers, Assets
    例如，库存、客户、资产
  - Need to be safeguarded properly
    需要妥善保护

---

## 第 7 页

Types of Data
数据类型

- First Party Data: Data collected by a company from their users
  第一方数据：公司从其用户收集的数据
- Second Party Data: Data collected by a second company from their
  第二方数据：第二家公司从其

customers and sold to first company
客户收集并出售给第一公司的数据

- Third Party Data: Data collected from the public domain
  第三方数据：从公共领域收集的数据

---

## 第 8 页

Data Formats
数据格式

- Row-Major Format: Consecutive elements in a row are
  行主序格式：一行中的连续元素

stored next to each other in memory.
在内存中彼此相邻存储

- E. g. CSV format
  例如，CSV 格式
- Useful for Transactional Processing
  用于事务处理
- Allow faster data writes
  允许更快的数据写入
- Column-Major Format: Consecutive elements in a
  列主序格式：列中的连续元素

column are stored next to each other in memory.
在内存中彼此相邻存储

- E. g. Parquet format
  例如，Parquet 格式
- Useful for Analytics Processing (e. g. finding
  用于分析处理（例如，查找

mean value of a field)
字段的平均值）

- Allow faster reading of a column
  允许更快地读取列
- Pandas DF is column-major
  Pandas DF 是列主序
- Numpy ndarray is row-major by default but order
  Numpy ndarray 默认是行主序，但顺序

can be specified
可以指定
By Cmglee - Own work, CC BY-SA 4.0, [https://commons.wikimedia.org/w/index.php?curid=65107030](https://commons.wikimedia.org/w/index.php?curid=65107030)
By Cmglee - 自己的作品，CC BY-SA 4.0

---

## 第 9 页

Data Serialization
数据序列化
The process of converting a data structure or object state into a format that can be stored or transmitted and reconstructed later.
将数据结构或对象状态转换为可以存储或传输并稍后重建的格式的过程。
Points to consider for deciding serialization format
决定序列化格式时需考虑的因素

- Human readability
  人类可读性
- Access patterns
  访问模式
- Size of data
  数据大小

---

## 第 10 页

Data Serialization
数据序列化
The process of converting a data structure or object state into a format that can be stored or transmitted and
将数据结构或对象状态转换为可以存储或传输并
reconstructed later.
稍后重建的格式的过程。
Major serialization formats:
主要序列化格式：
Image source: Designing Machine Learning Systems – Chip Guyan
图片来源：设计机器学习系统 - Chip Guyan

---

## 第 11 页

Data Models
数据模型
Data models describe how data is represented.
数据模型描述数据的表示方式。
Some important types of Data Models are
一些重要的数据模型类型是

- Relational Model
  关系模型
- NoSQL Model
  NoSQL 模型
  - Document Model
    文档模型
  - Graph Model
    图模型

---

## 第 12 页

Data Models
数据模型

- Relational Model
  关系模型
  - One of the oldest and
    最古老和最持久的

persistent models
模型之一

- Invented by Edgar F. Codd
  由 Edgar F. Codd 发明

in 1970
于 1970 年

- Data is organized into
  数据组织成

relations
关系

- Each relation is a set of
  每个关系是一组

tuples
元组

- A relation can be
  关系可以

represented as a table
表示为表

---

## 第 13 页

Data Models
数据模型

- Relational Model
  关系模型
  - If any attribute is changed
    如果任何属性更改

multiple rows needs to be updated
需要更新多行

- e.g. Change of price
  例如，价格变化
- Useful to convert this into
  将其转换为

a normalized form
规范化形式很有用

---

## 第 14 页

Data Models
数据模型

- Relational Model – Normalized Form
  关系模型 – 规范化形式

---

## 第 15 页

Data Models
数据模型

- Relational Model – Normalized Form
  关系模型 – 规范化形式
  - In a normalized form data is stored across multiple tables
    在规范化形式中，数据存储在多个表中
  - Joining multiple tables can be computationally expensive
    连接多个表在计算上可能很昂贵

---

## 第 16 页

Data Models
数据模型

- Relational Model – Query Language
  关系模型 – 查询语言
  - SQL – Most popular query language
    SQL - 最流行的查询语言
  - Declarative language
    声明式语言

---

## 第 17 页

Data Models
数据模型

- Relational Model – Query Language
  关系模型 – 查询语言
  - SQL – Most popular query language
    SQL - 最流行的查询语言
  - Declarative language:
    声明式语言：
- you specify the outputs you want, and the computer figures out
  您指定您想要的输出，计算机计算出

the steps needed to get you the queried outputs.
获取您查询的输出所需的步骤。

- Imperative language:
  命令式语言：
- you specify the steps needed for an action and the computer
  您指定操作所需的步骤，计算机

executes these steps to return the outputs
执行这些步骤以返回输出

---

## 第 18 页

Data Models
数据模型

- Question: Name some popular relational databases?
  问题：列出一些流行的关系数据库？

---

## 第 19 页

Data Models
数据模型

- Answer: Some popular relational databases
  答案：一些流行的关系数据库
  - MySQL
  - PostgreSQL
  - Oracle
  - IBM DB2
  - Mycrosoft SQL Server
    Microsoft SQL Server

---

## 第 20 页

Data Models
数据模型

- NoSQL (Not Only SQL) Data Model
  NoSQL（不仅仅是 SQL）数据模型
  - Relational Data Model demands that data follows a strict
    关系数据模型要求数据遵循严格

schema
模式

- Schema management can be painful
  模式管理可能很痛苦
- Two main NoSQL Data Models:
  两种主要的 NoSQL 数据模型：
- Document Model
  文档模型
- Graph Model
  图模型

---

## 第 21 页

Data Models
数据模型

- Document Type NoSQL Data Model
  文档类型 NoSQL 数据模型
  - Built around the concept of a "Document"
    围绕"文档"的概念构建
  - A "Document" is a single continuous string
    "文档"是单个连续字符串
  - Encoded as JSON, XML or BSON
    编码为 JSON、XML 或 BSON
  - All documents in a database are assumed to be encoded by
    数据库中的所有文档都假定使用

the same format
相同格式编码

- Each document is represented by a unique key
  每个文档由唯一键表示
- Analogy with relational tables:
  与关系表的类比：
- A single document is similar to a row
  单个文档类似于一行
- Collection of documents is similar to a table
  文档集合类似于表

---

## 第 22 页

Data Models
数据模型

- Example of Document Type NoSQL Data Model
  文档类型 NoSQL 数据模型示例

---

## 第 23 页

Data Models
数据模型

- Document Type NoSQL Data Model – Advantages
  文档类型 NoSQL 数据模型 – 优点
  - Schema-less
    无模式
  - Faster creation and read
    更快的创建和读取
  - Better locality
    更好的局部性
- Document Type NoSQL Data Model – Disadvantages
  文档类型 NoSQL 数据模型 – 缺点
  - Difficult to make analytics computations
    难以进行分析计算
  - Consistency limitations
    一致性限制
  - Atomicity weakness
    原子性弱

---

## 第 24 页

Data Models
数据模型

- Question: Name some popular NoSQL document databases?
  问题：列出一些流行的 NoSQL 文档数据库？

---

## 第 25 页

Data Models
数据模型

- Answer: Some popular NoSQL document databases
  答案：一些流行的 NoSQL 文档数据库
  - MongoDB
  - Amazon DocumentDB
  - CouchDB

---

## 第 26 页

Data Models
数据模型

- Graph Type NoSQL Data Model
  图类型 NoSQL 数据模型
  - Built around the concept of a "Graph"
    围绕"图"的概念构建
  - A "Graph" consists of Nodes and Edges
    "图"由节点和边组成
  - Edges represent relationship between nodes
    边表示节点之间的关系
  - Importance:
    重要性：
  - Document Data Model: content of each data item
    文档数据模型：每个数据项的内容
  - Graph Data Model: relationship between each data item
    图数据模型：每个数据项之间的关系

---

## 第 27 页

Data Models
数据模型

- Graph Type NoSQL
  图类型 NoSQL

Data Model – Example
数据模型 – 示例

- Graph databases are queried using Graph Query Languages:
  使用图查询语言查询图数据库：
- Homework exercise: read further information on GQL
  家庭作业练习：阅读有关 GQL 的更多信息

from [https://en.wikipedia.org/wiki/Graph_Query_Language](https://en.wikipedia.org/wiki/Graph_Query_Language)
来源：维基百科

---

## 第 28 页

Data Models
数据模型

- Question: Name some popular Graph databases?
  问题：列出一些流行的图数据库？

---

## 第 29 页

Data Models
数据模型

- Answer: Some popular Graph databases
  答案：一些流行的图数据库
  - Neo4J
  - OrientDB
  - Amazon Neptune

---

## 第 30 页

Data Processing Types
数据处理类型
Databases are optimized for two types of workloads
数据库针对两种类型的工作负载进行优化

- Transactional Processing
  事务处理
- Analytical Processing
  分析处理

---

## 第 31 页

Transactional Processing
事务处理

- Transaction refers to any kind of action:
  事务是指任何类型的操作：
  - Ordering a Pizza
    订购披萨
  - Uploading a YouTube video
    上传 YouTube 视频
  - Booking an Uber Cab
    预订 Uber 出租车
- Transactions are inserted into a DB as they are generated
  事务在生成时插入数据库
- Occasionally transactions are updated if some fields are changed
  如果某些字段更改，偶尔会更新事务
- Also known as Online Transaction Processing or OLTP
  也称为联机事务处理或 OLTP

---

## 第 32 页

Transactional Processing
事务处理

- Transactional databases are designed to satisfy ACID properties:
  事务数据库旨在满足 ACID 属性：
  - Atomicity:
    原子性：
- To guarantee that all the steps in a transaction are completed
  保证事务中的所有步骤作为一个组

successfully as a group.
成功完成。

- If any step in the transaction fails, all other steps must fail also
  如果事务中的任何步骤失败，所有其他步骤也必须失败
- e. g. If user payment fails, entire Uber booking transaction is
  例如，如果用户支付失败，整个 Uber 预订事务

cancelled.
将被取消。

- Consistency:
  一致性：
- To guarantee that all the transactions coming through must follow
  保证所有通过的事务必须遵循

predefined rules.
预定义规则。

- e. g. Only authorized users can book an Uber cab
  例如，只有授权用户可以预订 Uber 出租车

---

## 第 33 页

Transactional Processing
事务处理

- Transactional databases are designed to satisfy ACID properties:
  事务数据库旨在满足 ACID 属性：
  - Isolation:
    隔离性：
- To guarantee that two transactions happen at the same time as if
  保证两个事务同时发生，就像

they were isolated.
它们是隔离的一样。

- e. g. Two passengers cannot book the same Uber cab at the
  例如，两个乘客不能在同一

same time.
时间预订同一辆 Uber 出租车。

- Durability:
  持久性：
- To guarantee that once a transaction has been committed, it will
  保证一旦提交事务，它将

remain committed even in the case of a system failure.
即使在系统故障的情况下也保持提交状态。

- e. g. after you've ordered a ride and even if you lost network
  例如，在您预订了乘车后，即使您失去了网络

connection, you still want your ride to come.
连接，您仍然希望您的乘车到达。

---

## 第 34 页

Transactional Processing
事务处理

- ACID Requirements can be too restrictive for many use cases
  ACID 要求对于许多用例可能过于严格
- Instead, BASE requirements are used in many situations
  相反，BASE 要求在许多情况下使用
- BASE - Basically Available, Soft state, and Eventual consistency
  BASE - 基本可用、软状态和最终一致性

---

## 第 35 页

Analytical Processing
分析处理

- These databases are optimized for making aggregations of a
  这些数据库针对跨行聚合

column across rows
列进行优化

- e. g. To find average price of an Uber ride in a month at a
  例如，查找特定城市的 Uber 乘车一个月

particular city
的平均价格

- Also known as Online Analytics Processing or OLAP
  也称为在线分析处理或 OLAP

---

## 第 36 页

Extract, Transform and Load (ETL)
提取、转换和加载 (ETL)

- Data is first Extracted
  首先提取数据

from different sources
从不同来源

- It is then Transformed
  然后转换

into the desired Schema
为所需模式

- Finally Loaded to the
  最后加载到

target database
目标数据库

---

## 第 37 页

Breakout Session
分组讨论

- Discuss what type of data processing (Transactional or Analytics) is
  讨论什么类型的数据处理（事务或分析）是

the major type in your project
您项目中的主要类型

- Based on this arrive at what type of database you should be using
  基于此，确定您应该使用什么类型的数据库

for your project
用于您的项目

- Also what type of data pipeline your project would be required
  以及您的项目将需要什么类型的数据管道

---
